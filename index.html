<!DOCTYPE html>
<html>
<head>
    <link rel="shortcut icon" href="public/img/favicon.png" type="image/png" />
    <meta name="viewport" content="width=device-width, initial-scale=2.0">
    <script src="public/js/phaser.min.js"></script>
</head>
<body>

    <script>
    var config = {
        type: Phaser.WEBGL,
        width: 800,
        height: 600,
        physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 200 }
            }
        },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };

    var game = new Phaser.Game(config);
    var platforms;
    var cursors;
    var player;
    var score = 0;
    var scoreText;
    var controls;
    function preload ()
    {
        
        this.load.image('ground', 'https://labs.phaser.io/assets/tilemaps/tiles/drawtiles.png');
        this.load.image('sky', 'https://labs.phaser.io/assets/skies/space1.png');
        this.load.image('logo', 'https://labs.phaser.io/assets/sprites/phaser2.png');
        this.load.image('red', 'https://labs.phaser.io/assets/particles/flame2.png');
        this.load.image('star','https://labs.phaser.io/assets/sprites/gem.png');
        this.load.image('bomb', 'https://labs.phaser.io/assets/sprites/mine.png');
        this.load.spritesheet('dude', 'public/img/hiclipart.com.png',
        { frameWidth: 60.75, frameHeight: 60.75 });
        
        
        this.load.tilemapTiledJSON('map', 'public/img/mapa.json');
        this.load.image('tiles', 'public/img/tile.png');
    

    }

    function create ()
    {
        //this.add.image(400, 300, 'sky');
        var map = this.make.tilemap({ key: 'map' });
        var tiles = map.addTilesetImage('tile', 'tiles');
        var layer = map.createStaticLayer(0, tiles, 0, 0);
        this.cameras.main.setBounds(0, 0, map.widthInPixels, map.heightInPixels);
        var cursors = this.input.keyboard.createCursorKeys();
        var controlConfig = {
            camera: this.cameras.main,
            left: cursors.left,
            right: cursors.right,
            up: cursors.up,
            down: cursors.down,
            speed: 0.5
        };
        controls = new Phaser.Cameras.Controls.FixedKeyControl(controlConfig);

        var help = this.add.text(16, 16, 'Arrow keys to scroll', {
            fontSize: '18px',
            padding: { x: 10, y: 5 },
            backgroundColor: '#000000',
            fill: '#ffffff'
        });
        help.setScrollFactor(0);
    }
    function update(time, delta){
        controls.update(delta);
    }
    
    </script>

</body>
</html>